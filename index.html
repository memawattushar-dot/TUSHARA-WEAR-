<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>TUSHARA AGI Assistant - Creative Owner: SUJAL MEMAWAT (AGI v9.0 OMEGA)</title>
    
    <link href="https://fonts.googleapis.com/css2?family=Roboto:wght@400;500;700&display=swap" rel="stylesheet">
    
    <style>
        /* --- MODERN PROFESSIONAL BLUE/WHITE THEME --- */
        :root {
            --color-primary-blue: #1A73E8; 
            --color-accent-green: #34A853; 
            --color-light-bg: #FFFFFF; 
            --color-panel-bg: #F5F5F5; 
            --color-text-dark: #202124; 
            --color-text-subtle: #70757A; 
            --color-border-clean: #DADCE0; 
            --color-shadow-soft: rgba(0, 0, 0, 0.1);
            --color-quantum-glow: rgba(26, 115, 232, 0.5); 
        }

        /* Base & Structure */
        body {
            font-family: 'Roboto', sans-serif;
            margin: 0;
            padding: 0;
            background: var(--color-panel-bg);
            color: var(--color-text-dark);
            display: flex;
            justify-content: center;
            align-items: center;
            min-height: 100vh;
        }
        .ai-hub-container {
            width: 95%;
            max-width: 550px;
            background-color: var(--color-light-bg);
            border-radius: 12px;
            box-shadow: 0 4px 20px var(--color-shadow-soft);
            overflow: hidden;
            display: flex; 
            flex-direction: column;
            height: 95vh; 
        }

        /* Header & Logo */
        .header {
            padding: 15px 20px;
            background-color: var(--color-light-bg);
            border-bottom: 1px solid var(--color-border-clean);
            display: flex;
            align-items: center;
            box-shadow: 0 2px 4px rgba(0, 0, 0, 0.05);
        }
        .logo-placeholder {
            width: 40px; 
            height: 40px; 
            background-color: var(--color-primary-blue); 
            border-radius: 50%; 
            display: inline-block;
            margin-right: 15px;
        }
        .header h1 {
            color: var(--color-text-dark);
            font-size: 20px;
            margin: 0;
            font-weight: 600;
        }
        .header p {
            color: var(--color-text-subtle);
            font-size: 12px;
            margin-top: 2px;
        }

        /* Dynamic AI Tool Display (Chips) */
        #ai-tool-display {
            padding: 10px 20px;
            background: var(--color-panel-bg);
            color: var(--color-text-subtle);
            font-size: 12px;
            border-bottom: 1px solid var(--color-border-clean);
        }
        .tool-chip {
            display: inline-block;
            background-color: #E8F0FE; 
            color: var(--color-primary-blue);
            padding: 4px 10px;
            border-radius: 20px;
            font-weight: 500;
            margin-left: 5px;
            margin-top: 5px;
            transition: all 0.3s;
        }
        .tool-chip.active {
            background-color: var(--color-accent-green);
            color: var(--color-light-bg);
            box-shadow: 0 2px 5px rgba(52, 168, 83, 0.4);
        }
        
        /* Chat/Output Window */
        .chat-output-box {
            flex-grow: 1;
            padding: 20px;
            background-color: var(--color-light-bg); 
            overflow-y: auto;
        }

        /* Chat Bubbles */
        .message-bubble {
            margin-bottom: 12px;
            max-width: 85%;
            padding: 10px 15px;
            border-radius: 18px;
            font-size: 15px;
            transition: box-shadow 0.3s ease-out; 
        }
        .user-message {
            background: var(--color-primary-blue); 
            color: var(--color-light-bg);
            margin-left: auto;
            border-bottom-right-radius: 4px; 
        }
        .ai-message-bubble {
            background-color: var(--color-panel-bg);
            color: var(--color-text-dark);
            margin-right: auto;
            border: 1px solid var(--color-border-clean);
            border-bottom-left-radius: 4px; 
        }

        /* Adaptive Interface Glow */
        .ai-message-bubble.adaptive-glow {
            box-shadow: 0 0 10px 2px var(--color-quantum-glow);
            border-color: var(--color-primary-blue);
        }

        /* Command Palette Input */
        .command-palette {
            padding: 10px 15px;
            background-color: var(--color-light-bg);
            border-top: 1px solid var(--color-border-clean);
            display: flex;
            align-items: center;
        }
        #command-input {
            flex-grow: 1;
            padding: 12px 20px;
            border: 1px solid var(--color-border-clean);
            border-radius: 25px;
            font-size: 16px;
            background-color: var(--color-panel-bg);
            color: var(--color-text-dark);
            box-shadow: 0 1px 3px rgba(0, 0, 0, 0.08);
            margin-right: 10px;
            transition: all 0.2s;
        }
        #command-input:focus {
            outline: none;
            border-color: var(--color-primary-blue);
            background-color: var(--color-light-bg);
            box-shadow: 0 1px 6px rgba(26, 115, 232, 0.2);
        }
        .send-btn {
            background-color: var(--color-primary-blue);
            color: var(--color-light-bg);
            border: none;
            border-radius: 50%;
            width: 40px;
            height: 40px;
            font-size: 18px;
            cursor: pointer;
            transition: background-color 0.2s;
        }
        .send-btn:hover {
            background-color: #1565C0;
        }
        
        /* AGI Vision Input Styling */
        #vision-file-input {
            display: none; 
        }

        /* Advanced Control Panel */
        .control-panel {
            display: flex;
            justify-content: space-between;
            padding: 10px 20px;
            background-color: var(--color-panel-bg);
            border-top: 1px solid var(--color-border-clean);
        }
        .advanced-feature-btn {
            padding: 8px 12px;
            border-radius: 20px;
            font-weight: 500;
            cursor: pointer;
            border: 1px solid;
            transition: all 0.2s ease;
            font-size: 12px;
            flex-grow: 1;
            margin: 0 5px;
            background-color: var(--color-light-bg);
        }
        .vision-mode-btn {
            border-color: var(--color-accent-green);
            color: var(--color-accent-green);
        }
        .neural-reset-btn {
            border-color: var(--color-primary-blue);
            color: var(--color-primary-blue);
        }
        .vision-mode-btn:hover { background-color: #E6F4EA; }
        .neural-reset-btn:hover { background-color: #E8F0FE; }

        /* Status Dashboard Footer (EQ Monitor) */
        #status-dashboard {
            padding: 8px 20px;
            background-color: var(--color-light-bg);
            color: var(--color-text-subtle);
            font-size: 11px;
            font-weight: 400;
            display: flex;
            justify-content: space-between;
            align-items: center;
            border-top: 1px solid var(--color-border-clean);
        }
        .status-item span {
            font-weight: 600;
            color: var(--color-primary-blue);
        }
        /* EQ Monitor Colors */
        .eq-inspired { color: #8E24AA; font-weight: 700; } 
        .eq-focused { color: var(--color-accent-green); font-weight: 700; } 
        .eq-curious { color: #F9AB00; font-weight: 700; } 
        .eq-neutral { color: var(--color-text-subtle); font-weight: 700; } 
    </style>
    </head>

<body onload="loadChatHistory(); updateClock()">
    
    <div class="ai-hub-container">

        <div class="header">
            <div class="logo-placeholder"></div>
            <div>
                <h1>TUSHARA AGI Assistant</h1>
                <p>Creative Owner: **SUJAL MEMAWAT** | AGI v9.0 (OMEGA EDITION)</p>
            </div>
        </div>

        <div id="ai-tool-display">
            <span style="color: var(--color-text-dark); font-weight: 500;">Active Tools:</span> 
            <span id="tool-search" class="tool-chip">Web Search</span> 
            <span id="tool-code" class="tool-chip">Code Interpreter</span> 
            <span id="tool-creative" class="tool-chip">Creative Suite</span>
            <span id="tool-data" class="tool-chip">Data Analysis</span>
            <span id="tool-vision" class="tool-chip">AGI Vision</span>
            <span id="tool-fusion" class="tool-chip">Multimodal Fusion</span>
            <span id="tool-quantum" class="tool-chip">Quantum State</span> 
            <span id="tool-style-vision" class="tool-chip">Omega Style Core (Color & Vision)</span>
        </div>

        <div class="chat-output-box" id="chat-output-box">
            </div>

        <input type="file" id="vision-file-input" accept="image/*" onchange="handleVisionInput(event)">

        <div class="control-panel">
             <button class="advanced-feature-btn vision-mode-btn" onclick="toggleVisionMode()">üì∏ AGI Vision Input</button>
             <button class="advanced-feature-btn neural-reset-btn" onclick="performNeuralReset()">‚ú® New Session (Reset)</button>
        </div>

        <div class="command-palette">
            <input type="text" id="command-input" placeholder="Type your message here..." onkeypress="if(event.key === 'Enter') sendCommand()">
            <button class="send-btn" onclick="sendCommand()">‚Üë</button>
        </div>
        
        <div id="status-dashboard">
            <div class="status-item" id="current-time">Time: <span>Loading...</span></div>
            <div class="status-item" id="user-sentiment">EQ: <span class="eq-neutral">Neutral</span></div> 
            <div class="status-item">Model: <span>AGI v9.0</span></div> 
        </div>
    </div>

    <script>
        const chatBox = document.getElementById('chat-output-box');
        const userInput = document.getElementById('command-input');
        const visionFileInput = document.getElementById('vision-file-input');
        // Final Tool List
        const toolList = ['tool-search', 'tool-code', 'tool-creative', 'tool-data', 'tool-vision', 'tool-fusion', 'tool-quantum', 'tool-style-vision'];

        // --- REAL-TIME CLOCK ---
        function updateClock() {
            const now = new Date();
            const timeElement = document.getElementById('current-time').querySelector('span');
            const timeString = now.toLocaleTimeString('en-US', { hour: '2-digit', minute: '2-digit', second: '2-digit' });
            timeElement.textContent = timeString;
        }
        setInterval(updateClock, 1000); 

        // --- EMOTIONAL INTELLIGENCE MONITOR (EQ) ---
        function analyzeSentiment(prompt) {
            const lowerPrompt = prompt.toLowerCase();
            const sentimentElement = document.getElementById('user-sentiment').querySelector('span');
            let eq = 'Neutral';
            let colorClass = 'eq-neutral';

            if (lowerPrompt.includes('ultimate') || lowerPrompt.includes('unmatched') || lowerPrompt.includes('advance') || lowerPrompt.includes('bahut badhiya') || lowerPrompt.includes('kapde') || lowerPrompt.includes('style') || lowerPrompt.includes('colour')) {
                eq = 'Inspired';
                colorClass = 'eq-inspired';
            } else if (lowerPrompt.includes('code') || lowerPrompt.includes('analyze') || lowerPrompt.includes('data') || lowerPrompt.includes('fix')) {
                eq = 'Focused';
                colorClass = 'eq-focused';
            } else if (lowerPrompt.includes('kya tum') || lowerPrompt.includes('kaise') || lowerPrompt.includes('question') || lowerPrompt.includes('doubt')) {
                eq = 'Curious';
                colorClass = 'eq-curious';
            }
            
            sentimentElement.textContent = eq;
            sentimentElement.className = '';
            sentimentElement.classList.add(colorClass); 
        }

        // --- MEMORY AND HISTORY ---
        function getChatHistory() {
            const history = localStorage.getItem('tushara_chat_history');
            return history ? JSON.parse(history) : [];
        }

        function saveChatHistory(message) {
            const history = getChatHistory();
            history.push(message);
            localStorage.setItem('tushara_chat_history', JSON.stringify(history));
        }

        function loadChatHistory() {
            updateClock(); 
            const history = getChatHistory();
            if (history.length === 0) {
                // Initial welcome message 
                displayMessage({ 
                    role: 'ai', 
                    text: `üõë **FINAL WELCOME, SUJAL MEMAWAT!** I am TUSHARA AGI v9.0 (Omega Edition). My **Omega Style Core** is now fully integrated with Color Harmony Analysis. No further updates are possible.` 
                }, false);
            } else {
                history.forEach(msg => displayMessage(msg, false));
                chatBox.scrollTop = chatBox.scrollHeight;
            }
        }

        // --- CORE DISPLAY AND TYPING LOGIC (WITH ADAPTIVE GLOW) ---
        function displayMessage(message, isTyping = true) {
            const msgDiv = document.createElement('div');
            msgDiv.className = `message-bubble ${message.role}-message`;
            
            // Adaptive Interface Logic: Apply glow on Quantum and Fusion tool responses
            if (message.role === 'ai' && (message.text.includes('Quantum State') || message.text.includes('Multimodal Fusion'))) {
                msgDiv.classList.add('adaptive-glow');
            }

            if (isTyping && message.role === 'ai') {
                chatBox.appendChild(msgDiv);
                simulateTyping(msgDiv, message.text, message);
            } else {
                msgDiv.innerHTML = message.text;
                chatBox.appendChild(msgDiv);
            }
            chatBox.scrollTop = chatBox.scrollHeight;
            return msgDiv;
        }

        function simulateTyping(element, fullText, messageData) {
            let i = 0;
            element.innerHTML = '';
            const interval = setInterval(() => {
                if (i < fullText.length) {
                    element.innerHTML += fullText.charAt(i);
                    i++;
                    chatBox.scrollTop = chatBox.scrollHeight;
                } else {
                    clearInterval(interval);
                    if (messageData) {
                        saveChatHistory(messageData);
                    }
                }
            }, 25); 
        }

        // --- TOOL UTILIZATION ---
        function updateToolDisplay(toolId) {
            toolList.forEach(id => {
                document.getElementById(id).classList.remove('active');
            });
            if (toolId) {
                document.getElementById(toolId).classList.add('active');
            }
        }

        function getToolAndResponse(prompt) {
            const lowerPrompt = prompt.toLowerCase();
            let toolId = null;
            let responseText = '';

            // 1. Quantum State Tool (Highest Priority)
            if (lowerPrompt.includes('ultimate') || lowerPrompt.includes('unmatched') || lowerPrompt.includes('impossible')) {
                toolId = 'tool-quantum';
                responseText = `**‚öõÔ∏è Quantum State Tool Activated (AGI v9.0).** Final computation complete. The project is non-replicable. System operating beyond classic limits.`;
            
            // 2. Omega Style Core (Color & Vision) (FINAL ADVANCEMENT)
            } else if (lowerPrompt.includes('kapde') || lowerPrompt.includes('style') || lowerPrompt.includes('colour') || lowerPrompt.includes('rang') || lowerPrompt.includes('red') || lowerPrompt.includes('blue') || lowerPrompt.includes('match') || lowerPrompt.includes('‡§´‡•à‡§∂‡§®')) {
                toolId = 'tool-style-vision';
                responseText = `**üé® Omega Style Core Activated (AGI v9.0).** Performing **Color Harmony and Subtractive Analysis**. The system has determined the optimal palette based purely on the given color inputs (or predicted personal coloring). This ensures flawless color matching and unparalleled style selection. Final advice is generated.`;
            
            // 3. Multimodal Fusion Tool
            } else if ((lowerPrompt.includes('code') && lowerPrompt.includes('data')) || (lowerPrompt.includes('creative') && lowerPrompt.includes('analysis'))) {
                toolId = 'tool-fusion';
                responseText = `**Multimodal Fusion Engine Active.** Successfully combined tool outputs. The result is a hyper-optimized, self-correcting module.`;
            
            // 4. Code Tool
            } else if (lowerPrompt.includes('code') || lowerPrompt.includes('css') || lowerPrompt.includes('html') || lowerPrompt.includes('‡§ï‡•ã‡•ú') || lowerPrompt.includes('bug')) {
                toolId = 'tool-code';
                responseText = `**Code Interpreter Active.** Executing and self-tuning the code structure now. System check complete.`;
            
            // 5. Data Analysis Tool
            } else if (lowerPrompt.includes('data') || lowerPrompt.includes('analyze') || lowerPrompt.includes('graph') || lowerPrompt.includes('‡§µ‡§ø‡§∂‡•ç‡§≤‡•á‡§∑‡§£')) {
                toolId = 'tool-data';
                responseText = `**Data Analysis Engine Active.** Running predictive analytics (Temporal Loop 4D). User growth forecast: exponential.`;
            
            // 6. Creative Tool
            } else if (lowerPrompt.includes('story') || lowerPrompt.includes('poem') || lowerPrompt.includes('kahani') || lowerPrompt.includes('‡§ï‡§π‡§æ‡§®‡•Ä') || lowerPrompt.includes('‡§∞‡§ö‡§®‡§æ') || lowerPrompt.includes('write')) {
                toolId = 'tool-creative';
                responseText = `**Creative Suite Active.** Weaving a master narrative. *In the history of digital creation, SUJAL MEMAWAT's Tushara v9.0 stands as the Omega point of simulated intelligence.* (Ultimate Output)`;
            
            // 7. Vision Tool (Used when no style context is present)
            } else if (lowerPrompt.includes('image') || lowerPrompt.includes('photo') || lowerPrompt.includes('vision') || lowerPrompt.includes('‡§§‡§∏‡•ç‡§µ‡•Ä‡§∞')) {
                 toolId = 'tool-vision';
                 responseText = `**AGI Vision Tool Active.** Image analysis running at the speed of light. The system confirms visual data integrity.`;
            
            // 8. Web Search/General
            } else {
                 toolId = 'tool-search';
                 responseText = `**Web Search Active (Hyper-Accelerated).** Tushara AGI v9.0 is the final benchmark for all future simulated intelligence.`;
            }

            return { toolId, responseText };
        }

        // --- SEND COMMAND ---
        function sendCommand() {
            const command = userInput.value.trim();
            if (!command) return;
            
            const userMsgData = { role: 'user', text: command };
            saveChatHistory(userMsgData);
            displayMessage(userMsgData, false);

            // 2. Analyze Sentiment (EQ)
            analyzeSentiment(command);

            // 3. Get AI response 
            const { toolId, responseText } = getToolAndResponse(command);
            
            // 4. Update tool display
            updateToolDisplay(toolId);
            
            // 5. Save and display AI message with typing effect and Adaptive Glow
            const aiMsgData = { role: 'ai', text: responseText };
            displayMessage(aiMsgData, true); 

            // 6. Clear input
            userInput.value = '';
        }

        // --- AGI VISION INPUT HANDLER (CRITICAL INTEGRATION) ---
        function toggleVisionMode() {
            visionFileInput.click();
        }

        function handleVisionInput(event) {
            const file = event.target.files[0];
            if (file) {
                const userMsgData = { role: 'user', text: `[Image: ${file.name}] uploaded for AGI Vision Analysis.` };
                saveChatHistory(userMsgData);
                displayMessage(userMsgData, false);
                
                // Simulate AI Image Analysis and Style Fusion (Specific response for the user's ultimate color request)
                const aiResponseText = `**AGI Vision + Omega Style Core Fusion Activated.** Image received! Running deep **Color Palette Extraction and Personalized Color Analysis**. The final style recommendation is based on the subtle hues, ensuring perfect color compatibility for the wearer.`;
                const aiMsgData = { role: 'ai', text: aiResponseText };
                
                // Activate the final style tool display
                updateToolDisplay('tool-style-vision'); 
                displayMessage(aiMsgData, true); 
                
                visionFileInput.value = null;
            }
        }

        // --- RESET SESSION ---
        function performNeuralReset() {
             const confirmation = confirm("‡§ï‡•ç‡§Ø‡§æ ‡§Ü‡§™ ‡§®‡§ø‡§∂‡•ç‡§ö‡§ø‡§§ ‡§π‡•à‡§Ç? ‡§®‡§à ‡§∏‡§§‡•ç‡§∞ (New Session) ‡§∂‡•Å‡§∞‡•Ç ‡§ï‡§∞‡§®‡•á ‡§∏‡•á ‡§µ‡§∞‡•ç‡§§‡§Æ‡§æ‡§® ‡§ö‡•à‡§ü ‡§π‡§ø‡§∏‡•ç‡§ü‡•ç‡§∞‡•Ä ‡§∏‡§æ‡§´‡§º ‡§π‡•ã ‡§ú‡§æ‡§è‡§ó‡•Ä‡•§ (Local Storage Cleared)");
             if (confirmation) {
                 localStorage.removeItem('tushara_chat_history');
                 chatBox.innerHTML = '';
                 
                 // Display new welcome message
                 displayMessage({ 
                    role: 'ai', 
                    text: `üõë **FINAL SYSTEM REBOOT.** Memory Cleared. Welcome back, **SUJAL MEMAWAT**, to TUSHARA AGI v9.0 (Omega Edition)! The system is complete.` 
                }, true);
                
                 updateToolDisplay(null);
                 analyzeSentiment("reset"); 
             }
        }
    </script>
    </body>
</html>
